## 2021-07-18

```
JWT
```

#### Session

- Session_ID는 서버가 사용자에게 보내줌. 보통 30분이 지나면 만료 된다. Session의 단점은 사용자와 서버간 1대1이기 때문에 사용자가 다른 서버에 접근하면 새로운 Session을 발급받아야 한다. 이를 해결하기 위해 JWT를 사용함.
- ex) 로드밸런싱을 위해 서버를 여러개 두었을 때 왔다갔다 불가 이런 경우 DB에 저장할 수 있으나 이는 하드디스크에 접근하는 것과 같음 이를 위해 RAM 서버인 Redis를 사용하기도 함.

#### OSI 7 계층

- 통신의 단계를 7개로 나눈 계층으로 맨 위부터 응용 / 프리젠테이션 / 세션(인증 체크) / 트랜스포트(TCP/UDP) / 네트워크(IP) / 데이터링크 / 물리 가 있음

###### TCP의 문제점: CIA(Confidential [기밀성], Intergrity [무결성], Availability [가용성])

- 문서를 암호화하면 가용성은 깨지나 기밀성은 확보할 수 있다. 암호화를 해독 할 수 있으면 가용성이 지켜지고 

1. 열쇠전달 문제
   - 열쇠를 어떻게 안전하게 보낼 것인지 => 열쇠만 잘 보내면 위조를 막을 수 있음 -> 상대방의 공개키로 암호화 해서 보내면 받은 사람이 개인키로 복호화한다.
2. 문서가 누구로 부터 왔는지
   - 데이터를 보내면  Ack를 받아 도착했음을 확인하는데 중간에 누가 탈취해서 Ack를 보낼 수 있다. =>  A의 개인키로 암호화 해서 보내면 B가 A의 공개키로 복호화 해서 A가 보냈음을 확인 할 수 있다.

- A의 개인키로 암호화해서 그걸 B의 공개키로 암호화 하면 B는 A의 공개키로 복호화가 되니 A가 보냈음을 확인하고 그 결과를 B의 개인키로 복호화하여 정보를 확인함.
